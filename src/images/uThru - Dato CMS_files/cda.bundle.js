(window.webpackJsonpDato=window.webpackJsonpDato||[]).push([[2],{2392:function(e,t,n){var r={".":2246,"./":2246,"./GraphQLLanguageService":2314,"./GraphQLLanguageService.d":2393,"./GraphQLLanguageService.d.ts":2393,"./GraphQLLanguageService.d.ts.map":2612,"./GraphQLLanguageService.js":2314,"./GraphQLLanguageService.js.map":2613,"./autocompleteUtils":2272,"./autocompleteUtils.d":2394,"./autocompleteUtils.d.ts":2394,"./autocompleteUtils.d.ts.map":2614,"./autocompleteUtils.js":2272,"./autocompleteUtils.js.map":2615,"./getAutocompleteSuggestions":2259,"./getAutocompleteSuggestions.d":2395,"./getAutocompleteSuggestions.d.ts":2395,"./getAutocompleteSuggestions.d.ts.map":2616,"./getAutocompleteSuggestions.js":2259,"./getAutocompleteSuggestions.js.map":2617,"./getDefinition":2273,"./getDefinition.d":2396,"./getDefinition.d.ts":2396,"./getDefinition.d.ts.map":2618,"./getDefinition.js":2273,"./getDefinition.js.map":2619,"./getDiagnostics":2275,"./getDiagnostics.d":2397,"./getDiagnostics.d.ts":2397,"./getDiagnostics.d.ts.map":2620,"./getDiagnostics.js":2275,"./getDiagnostics.js.map":2621,"./getHoverInformation":2276,"./getHoverInformation.d":2398,"./getHoverInformation.d.ts":2398,"./getHoverInformation.d.ts.map":2622,"./getHoverInformation.js":2276,"./getHoverInformation.js.map":2623,"./getOutline":2313,"./getOutline.d":2399,"./getOutline.d.ts":2399,"./getOutline.d.ts.map":2624,"./getOutline.js":2313,"./getOutline.js.map":2625,"./index":2246,"./index.d":2400,"./index.d.ts":2400,"./index.d.ts.map":2626,"./index.js":2246,"./index.js.map":2627};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=2392},3101:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(579),i=n.n(o),c=n(1),u=n.n(c),s=n(6),l=n(580),p=n(148);function f(e,t,n,r){var a,o,i,c;return regeneratorRuntime.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=n.meta.primary?"".concat(p.default.cdaBaseUrl,"/"):"".concat(p.default.cdaBaseUrl,"/environments/").concat(n.id),o="".concat(a,e?"/":"/preview"),u.next=4,regeneratorRuntime.awrap(fetch(o,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)}));case 4:return i=u.sent,u.next=7,regeneratorRuntime.awrap(i.text());case 7:if(c=u.sent,!i.ok){u.next=10;break}return u.abrupt("return",JSON.parse(c));case 10:throw JSON.parse(c);case 11:case"end":return u.stop()}}))}var g=n(2538),d=n.n(g),m=n(2658),b=n.n(m),y=n(3092),v=n(2407),O=n(70),j=n.n(O),h=n(967);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=Object(h.a)(),D=function(e){return j.a.parse(e.search,{ignoreQueryPrefix:!0})},k=function(){var e=E(Object(r.useState)(D(x.location)),2),t=e[0],n=e[1];Object(r.useEffect)((function(){return x.listen((function(e){n(D(e))}))}),[]);return[t,function(e){var t=D(x.location);x.push("/cda-explorer/?".concat(j.a.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{},e))))}]},A=n(8);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var P=function(e){var t=e.dispatch,n=Q(k(),2),o=n[0],c=n[1],u=Q(Object(r.useState)((function(){return function(){}})),2),p=u[0],g=u[1],m=Object(s.useSelector)((function(e){return Object(A.getActiveEnvironment)(e)})),O=Q(Object(r.useState)(!1),2),j=O[0],h=O[1],S=Q(Object(r.useState)(!1),2),w=S[0],E=S[1],x=Object(r.useRef)(null),D=Object(s.useSelector)((function(e){return Object.values(e.accessTokens)})),P=Q(Object(r.useState)(null),2),L=P[0],R=P[1],N=Q(Object(r.useState)(null),2),U=N[0],q=N[1];return Object(r.useEffect)((function(){!function(e,t){var n,r;regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(e(Object(l.fetchAll)()));case 2:n=a.sent,r=n.data.find((function(e){return"readonly"===e.attributes.hardcoded_type})).attributes.token,t(r);case 5:case"end":return a.stop()}}))}(t,R)}),[]),i()((function(){var e,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(L){n.next=2;break}return n.abrupt("return");case 2:return e=f.bind(null,j,L,m),g((function(){return e})),n.next=6,regeneratorRuntime.awrap(e({query:v.introspectionQuery,operationName:v.introspectionQueryName}));case 6:t=n.sent,q(Object(y.a)(t.data)),x.current.handleRunQuery();case 9:case"end":return n.stop()}}))}),[j,L,m.id,m.meta.primary]),a.a.createElement("div",{className:"graphiql-container"},a.a.createElement(b.a,{schema:U,query:o.query,onEdit:function(e){return c({query:e})},onRunOperation:function(e){x.current.handleRunQuery(e)},explorerIsOpen:w,onToggleExplorer:function(){return E(!w)}}),a.a.createElement(d.a,{ref:x,schema:U,fetcher:p,query:o.query,operationName:o.operationName,variables:o.variables,onEditQuery:function(e){return c({query:e})},onEditVariables:function(e){return c({variables:e})},onEditOperationName:function(e){return c({operationName:e})}},a.a.createElement(d.a.Toolbar,null,a.a.createElement(d.a.Button,{onClick:function(){return E(!w)},title:"Explorer",label:"Explorer"}),a.a.createElement(d.a.Button,{onClick:function(){return x.current.handlePrettifyQuery()},title:"Prettify Query (Shift-Ctrl-P)",label:"Prettify"}),a.a.createElement(d.a.Button,{onClick:function(){return x.current.handleToggleHistory()},title:"Show History",label:"History"}),U&&a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a.Select,{onSelect:function(e){h(e),x.current.handleRunQuery()}},a.a.createElement(d.a.SelectOption,{value:!0,selected:j,label:"Use published content endpoint"}),a.a.createElement(d.a.SelectOption,{value:!1,selected:!j,label:"Use draft content endpoint"})),a.a.createElement(d.a.Select,{onSelect:function(e){R(e)}},D.map((function(e){return a.a.createElement(d.a.SelectOption,{key:e.attributes.token,value:e.attributes.token,selected:L===e.attributes.token,label:e.attributes.name})})))))))};P.propTypes={dispatch:u.a.func.isRequired};t.default=Object(s.connect)()(P)}}]);
//# sourceMappingURL=cda.bundle.js.map